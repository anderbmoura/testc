import { Canvas, Meta } from '@storybook/addon-docs/blocks';
import { View, Text, XStack, YStack, Theme, Button } from 'tamagui';
import { LIBRARY_NAME } from '../constants';

<Meta title="Guia de Contribui√ß√£o/Sistema de Temas" />

# Sistema de Temas

# Como Implementar Temas

Este guia explica como implementar corretamente o sistema de temas quando voc√™ recebe designs criados pela equipe de Design.

## Interpretando Cores no Figma

Quando voc√™ inspeciona um elemento no Figma, ver√° informa√ß√µes de cores semelhantes a:

**`color/success/successBg [Color 2]`**

Para saber qual o token de cor utilizar, fa√ßa a seguinte pergunta: **a cor deve mudar conforme o tema aplicado?**

> - Se a resposta for **sim**, ent√£o use `$color2`.
> - Se a resposta for **n√£o**, ou seja, se a cor deve ser sempre verde independente do tema**, ent√£o use o nome sem√¢ntico da cor, que nesse caso √© `$successBg`.

#### Exemplos Pr√°ticos:

- O `backgroundColor` ser√° vermelho quando aplicado o tema danger, e verde quando aplicado o tema success:

```tsx
// Aplica a cor $color8 da paleta de gradientes do tema Danger
<Button backgroundColor="$color8" theme="danger">Excluir</Button>

// Aplica a cor $color8 da paleta de gradientes to tema Success
<Button backgroundColor="$color8" theme="success">Confirmar</Button>

// Aplica a cor $color8 da paleta de gradientes to tema Neutral
<Button backgroundColor="$color8">Confirmar</Button>
```

> üí° Quando voc√™ n√£o especifica tema, o sistema usa automaticamente a paleta `neutral`

- O `backgroundColor` ser√° sempre azul independente do tema utilizado:

```tsx
// Aplica a cor sem√¢ntica $infoBg
<Button backgroundColor="$infoBg" theme="danger">Informa√ß√µes</Button>

// Aplica a cor sem√¢ntica $infoBg
<Button backgroundColor="$infoBg" theme="success">Informa√ß√µes</Button>
```

## Arquitetura do Sistema de Temas

A {LIBRARY_NAME} utiliza o sistema de temas do Tamagui com duas camadas de cores:

### 1. Cores Adapt√°veis
Paleta gradiente com a escala de `$color1` at√© `$color12`. Quando um tema √© aplicado, todas as cores dessa escala mudam automaticamente para as cores correspondentes √† paleta de cores do tema.

- **Comportamento**: Mudam automaticamente conforme o tema aplicado.
- **Onde usar**: Em elementos que devem ter variantes para diferentes contextos.

### 2. **Cores Sem√¢nticas** (ex: `$neutralBg1`, `$successBg`, `$highlight`)
Valores fixos que n√£o mudam com o tema.

- **Comportamento**: Os valores s√£o sempre o mesmo independente do tema aplicado.
- **Onde usar**: Em elementos que devem manter sempre a mesma cor.

## Implementa√ß√£o Pr√°tica

### Cen√°rio 1: Componente com Variantes Tem√°ticas

**Design especifica**: "Bot√£o deve ter variantes para danger, success, warning"

‚úÖ Implementa√ß√£o correta dos tokens de cores:
```tsx
const DscButton = styled(TamaguiButton, {
  name: 'DscButton',
  backgroundColor: '$color8',
  color: '$color1',
  borderColor: '$color9',

  pressStyle: {
    backgroundColor: '$color9',
  },

  variants: {
    type: {
      outline: {
        backgroundColor: 'transparent',
        borderWidth: 1,
        color: '$color9',
      },
      ghost: {
        backgroundColor: '$color3',
      },
    },
  } as const,
});
```

### Cen√°rio 2: Elementos de Layout Fixos

**Design especifica**: "Layout base que n√£o muda de cor quando um tema √© aplicado"

‚úÖ Implementa√ß√£o correta dos tokens de cores:
```tsx
const ScreenContainer = styled(View, {
  name: 'ScreenContainer',
  backgroundColor: '$neutralBg1',
  padding: '$medium',
});

const SectionCard = styled(View, {
  name: 'SectionCard',
  backgroundColor: '$neutralBg2',
  borderRadius: '$medium',
  padding: '$large',
});
```

### Cen√°rio 3: Componente H√≠brido (Cores Adapt√°veis + Sem√¢nticas)

**Design especifica**: "Bot√£o de √≠cone com fundo fixo neutro, mas √≠cone que muda conforme o contexto"

‚úÖ Implementa√ß√£o correta misturando ambos os tipos de cores:
```tsx
import { Check, Warning, Info, Trash } from '@iconoir/react-native';

const IconButton = styled(Pressable, {
  name: 'IconButton',
  width: 48,
  height: 48,
  backgroundColor: '$neutralBg2',     // üîí Sempre o mesmo fundo neutro
  borderRadius: '$medium',
  alignItems: 'center',
  justifyContent: 'center',
  
  pressStyle: {
    backgroundColor: '$neutralBg3',   // üîí Sempre o mesmo estado pressed
  },
});

const ThemedIcon = styled(View, {
  name: 'ThemedIcon',
  color: '$color9',                   // üé® Cor do √≠cone muda com o tema
});

// Uso pr√°tico:
const ActionButtons = () => (
  <XStack space="$small">
    <IconButton theme="success">
      <ThemedIcon as={Check} size={24} />     {/* √çcone verde */}
    </IconButton>
    
    <IconButton theme="warning">
      <ThemedIcon as={Warning} size={24} />   {/* √çcone amarelo */}
    </IconButton>
    
    <IconButton theme="danger">
      <ThemedIcon as={Trash} size={24} />     {/* √çcone vermelho */}
    </IconButton>
    
    <IconButton theme="info">
      <ThemedIcon as={Info} size={24} />      {/* √çcone azul */}
    </IconButton>
  </XStack>
);
```

## Temas Dispon√≠veis

Para visualizar as paletas completas de cada tema, consulte: [Design System/Temas/Paletas de Cores](?path=/docs/design-system-temas-paletas-de-cores--docs)

- **`neutral`**
- **`accent`**
- **`highlight`**
- **`danger`**
- **`warning`**
- **`success`**
- **`info`**

## Altern√¢ncia entre Modo Claro e Escuro

O sistema automaticamente adapta as cores dos temas para modo claro e escuro baseado na configura√ß√£o do dispositivo ou prefer√™ncia do usu√°rio.

```tsx
import { TamaguiProvider } from 'tamagui';
import { useState } from 'react';

export function App() {
  const [isDark, setIsDark] = useState(false);

  return (
    <TamaguiProvider 
      config={config} 
      defaultTheme={isDark ? 'dark' : 'light'}
    >
      <YStack padding="$medium" space="$small">
        <Button onPress={() => setIsDark(!isDark)}>
          Alternar para tema {isDark ? 'claro' : 'escuro'}
        </Button>
        
        <Theme name="success">
          <Card>
            <Text>Este card se adapta automaticamente ao modo claro/escuro</Text>
          </Card>
        </Theme>
      </YStack>
    </TamaguiProvider>
  );
}
```
